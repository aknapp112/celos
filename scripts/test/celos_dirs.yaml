---
# Playbook to perform integration testing on Celos
#
# Performs various tests against the servlets.

- hosts: test-server
  gather_facts: no

  tasks:

  - name: Prepare configuration dir
    shell: rm -rf {{celos_workflows_dir}}/* && mkdir -p {{celos_workflows_dir}}

  - name: Prepare database dir
    shell: rm -rf {{celos_db_dir}}/* && mkdir -p {{celos_db_dir}}

  - name: Prepare logs dir
    shell: rm -rf {{celos_log_dir}}/* && mkdir -p {{celos_log_dir}}

  - name: Prepare defaults dir
    shell: rm -rf {{celos_defaults_dir}}/* && mkdir -p {{celos_defaults_dir}}

  - name: Prepare UI dir
    shell: rm -rf {{celos_ui_dir}}/* && mkdir -p {{celos_ui_dir}}